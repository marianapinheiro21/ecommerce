CREATE OR REPLACE PROCEDURE ECOMMERCE.LogistaAdicionaProduto(O_NifLogista DECIMAL(9,0), O_NomeProduto VARCHAR, O_Stock DECIMAL, O_Price DECIMAL(10,2), O_description VARCHAR, O_categoria VARCHAR)
LANGUAGE plpgsql
AS $$
	--BEGIN
	DECLARE 
		O_CODIGO DECIMAL :=RAND()*1000;
		O_CODIGO2 DECIMAL:=RAND()*1000;
		--SET O_CODIGO=RAND()*1000;
	BEGIN	
		INSERT INTO ECOMMERCE.PRODUCT(IDPRODUCT, Stock, Nome, Price, Description, Categoria)
		VALUES (O_CODIGO, O_Stock, O_NomeProduto, O_Price, O_description, O_categoria);
		--DECLARE O_CODIGO2 INT;
		--SET O_CODIGO2=RAND()*1000;
		INSERT INTO ECOMMERCE.LOGISTA_PRODUTO(ADDP_ID, LOGISTA_NIF, PRODUCT_ID)
		VALUES (O_CODIGO2, O_NifLogista, O_CODIGO);
	END;
$$